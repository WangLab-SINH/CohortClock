<!--
  ~ Copyright (C) 2020 xuexiangjys(xuexiangjys@163.com)
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--    <script src="echarts.min.js"></script>-->
    <!--    <script src="echarts.js"></script>-->
    <!--    <script src="echarts-gl.js"></script>-->
    <!--    <script src="chart/lib/echarts.min.js"></script>-->
    <!--    <script src="chart/js/echarts-all.js"></script>-->
    <script src="chart/js/echarts.min.js"></script>
    <title>Document</title>
</head>
<body>

<style>.box { justify-content:center; display:flex; flex-wrap:wrap;  }; </style>
<div class="box">
    <div id="view" class="chart-container" style="width: 500px;height: 300px;"></div>
    <div id="view1" class="chart-container" style="width: 500px;height: 300px;"></div>
    <script>
        var chart=echarts.init(document.getElementById("view"));
var greenPieData = [{
    value: 6,
    name: '00:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(230, 40, 204,0.5)',
        }
    }
}, {
    value: 6,
    name: '01:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '02:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '03:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '04:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '05:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '06:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '07:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '08:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '09:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '10:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '11:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '12:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '13:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '14:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '15:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '16:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '17:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '18:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '19:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '20:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '21:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '22:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '23:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
},
{
    value: 6,
    name: '00:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(230, 40, 204,0.5)',
        }
    }
}, {
    value: 6,
    name: '01:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '02:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '03:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '04:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '05:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '06:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '07:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '08:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '09:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '10:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '11:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '12:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '13:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '14:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '15:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '16:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '17:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '18:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '19:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.3)',
        }
    }
}, {
    value: 6,
    name: '20:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.2)',
        }
    }
}, {
    value: 6,
    name: '21:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '22:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}, {
    value: 6,
    name: '23:00~00:59',
    itemStyle: {
        emphasis: {
            color: 'rgba(23, 240, 204,0.1)',
        }
    }
}];
        function setView(){
            //这里访问安卓代码
            var bluePieData=eval(android.getT41Data());
            var deg_clock = {
    0: 0,
    30: 2,
    60: 4,
    90: 6,
    120: 8,
    150: 10,
    180: 12,
    210: 14,
    240: 16,
    270: 18,
    300: 20,
    330: 22,
    360: 24
};

// 区域带透明度的背景色
var splitAreaColor = ['rgba(240, 237, 201,0.1)',
    'rgba(24, 237, 201,0.1)',
    'rgba(24, 237, 201,0.2)',
    'rgba(24, 237, 201,0.2)',
    'rgba(24, 237, 201,0.3)',
    'rgba(24, 237, 201,0.3)',
    'rgba(24, 237, 201,0.3)',
    'rgba(24, 237, 201,0.3)',
    'rgba(24, 237, 201,0.2)',
    'rgba(24, 237, 201,0.2)',

];

// 根据时钟区域下标找到对应图片
function formatterClockPic(i) {
    if (i == -1 || i === 0 || i == 23) {
        return '{imgOwi|}';
    }
    if (i == 1 || i == 2 || i == 3 || i == 4 || i == 5 || i == 19 || i == 21 || i == 22) {
        return '{imgMoon|}';
    }
    if (i == 6) {
        return '{imgOffice|}';
    }
    if (i == 7 || i == 8 || i == 9 || i == 10 || i == 11 || i == 13 || i == 14 || i == 15 || i == 17) {
        return '{imgSun|}';
    }
    if (i == 12 || i == 18) {
        return '{imgMeal|}';
    }
    if (i == 16) {
        return '{imgCoffee|}';
    }
    if (i == 20) {
        return '{imgPc|}';
    }
};

function tooltipFormatterClockPie(i) {
    if (i == -1 || i === 0 || i == 23) {
        return '<img src="https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg">';
    }
    if (i == 1 || i == 2 || i == 3 || i == 4 || i == 5 || i == 19 || i == 21 || i == 22) {
        return '<img src="https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg">';
    }
    if (i == 6) {
        return '<img src="https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg">';
    }
    if (i == 7 || i == 8 || i == 9 || i == 10 || i == 11 || i == 13 || i == 14 || i == 15 || i == 17) {
        return '<img src="https://tongji.baidu.com/research/img/icon-day.5342b895fe23eafdb202b563ee5efbab.svg">';
    }
    if (i == 12 || i == 18) {
        return '<img src="https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg">';
    }
    if (i == 16) {
        return '<img src="https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg">';
    }
    if (i == 20) {
        return '<img src="https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg">';
    }
};

// 时钟图片
var clockPic = {
    imgOwi: {
        backgroundColor: {
            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'
        },
        width: 16,
        height: 16,
        fontSize: 16,

    },
    imgMoon: {
        backgroundColor: {
            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'
        },
        width: 16,
        height: 16,
        fontSize: 16
    },
    imgOffice: {
        backgroundColor: {
            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'
        },
        width: 16,
        height: 16,
        fontSize: 16
    },
    imgSun: {
        backgroundColor: {
            image: 'https://tongji.baidu.com/research/img/icon-day.5342b895fe23eafdb202b563ee5efbab.svg'
        },
        width: 16,
        height: 16,
        rotate: 0,
        fontSize: 16
    },
    imgMeal: {
        backgroundColor: {
            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'
        },
        width: 16,
        height: 16,
        fontSize: 16
    },
    imgCoffee: {
        backgroundColor: {
            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'
        },
        width: 16,
        height: 16,
        fontSize: 16
    },
    imgPc: {
        backgroundColor: {
            image: 'https://tongji.baidu.com/research/img/icon-night.3b047760d6f945c29dd9c38c05428751.svg'
        },
        width: 16,
        height: 16,
        fontSize: 16
    }
};
/*-------------------------------------------------------------------------------------*/
// 设置背景色
document.getElementsByTagName('body')[0].style.backgroundColor = "rgba(13, 17, 29)";



var option = {
    polar: {
        radius: [63, 150],
        center: ['50%', '50%']
    },
    // 极坐标
    angleAxis: {
        min: 0,
        max: 360,
        startAngle: 91,
        //         interval: 28,
        clockwise: true, //顺时针
        zlevel: 1,
        // 圆线
        axisLine: {
            show: false
        },
        // 圆线上的刻度
        axisTick: {
            show: false,

            lineStyle: {
                color: '#fff'
            }
        },
        // 圆线上的刻度标签
        axisLabel: {
            color: '#fff',
            interval: '2',
            fontWeight: 'bold',
            formatter: function(deg) {
                return deg_clock[deg];
            },
        },
        // 圆中直区域分割线
        splitLine: {
            show: true,
            lineStyle: {
                color: ['rgba(26, 28, 38)']
            }
        },
        // 圆中被分割的区域
        splitArea: {
            show: false,
            areaStyle: {
                color: splitAreaColor
            }
        }

    },
    // 刻度
    axisTick: {
        show: false,
        lineStyle: {
            color: '#fff'
        }
    },
    // 刻度标签
    axisLabel: {
        show: false
    },
    radiusAxis: {
        show: false,
    },
    tooltip: {
        trigger: 'item'
    },

    series: [
        {
            name: 'green',
            type: 'pie',
            radius: [63, 155],
            center: ['49.5%', '50%'],
            roseType: 'radius',
            zlevel: 2,
            tooltip: {
                show: false
            },
            label: {
                show: true,
                formatter: '',
                position: 'outside',
            },

            labelLine: {
                show: false,
                length: 40,
                length2: 0
            },
            hoverAnimation: false, //hover时是否有放大效果
            itemStyle: {
                normal: {
                    color: 'rgba(23, 240, 204,0)'
                },
                emphasis: {
                    color: 'rgba(23, 240, 204)',
                }
            },
            data: greenPieData
        },
        {
            name: 'blue',
            type: 'pie',
            radius: [63, 130],
            center: ['50%', '50%'],
            roseType: 'area', //是否展示成南丁格尔图，通过半径区分数据大小。可选择两种模式：radius/area
            tooltip: {
                show: false
            },
            label: {
                show: true,
                position: 'center',
                color: 'rgba(13, 17, 29,0)'
            },
            emphasis: {
                label: {
                    show: true,
                    fontSize: '30',
                    fontWeight: 'bold',
                    formatter: ['{b|{b}}'].join('\n'),
                    rich: {
                        a: {
                            color: '#fff',
                            fontSize: 32,
                            lineHeight: 46,
                            verticalAlign: 'bottom'
                        },
                        b: {
                            color: '#a7a9c7',
                            fontSize: 12,
                            lineHeight: 24
                        }
                    }
                }
            },
            labelLine: {
                show: false
            },
            zlevel: 3,
            hoverAnimation: false, //hover时是否有放大效果
            clockwise: true, //饼图的扇区是否是顺时针排布
            startAngle: 90, //起始角度
            minAngle: 40, //最小的扇区角度（0 ~ 360），用于防止某个值过小导致扇区太小影响交互
            itemStyle: {
                normal: {

                },
                emphasis: {

                }
            },
            data: bluePieData
        },

    ]
};

chart.setOption(option);

/*-------------------------------------------------------------------------------------*/

var arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47];


// 默认高亮
    chart.dispatchAction({
        type: 'highlight',
        // 可选，系列 index，可以是一个数组指定多个系列
        seriesIndex: [0, 1],
        // 可选，数据的 index
        dataIndex: 0,
    });

chart.on('mouseover', {
    seriesIndex: 0
}, function(e) {
    // 取消高亮
    chart.dispatchAction({
        type: 'downplay',
        // 可选，系列 index，可以是一个数组指定多个系列
        seriesIndex: [0, 1],
        // 可选，数据的 index
        dataIndex: arr,
    });
    // 设置高亮
    chart.dispatchAction({
        type: 'highlight',
        // 可选，系列 index，可以是一个数组指定多个系列
        seriesIndex: [0, 1],
        // 可选，数据的 index
        dataIndex: e.dataIndex,
    });
    // 隐藏24小时图标
    chart.dispatchAction({
        type: 'hideTip',
        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。
        seriesIndex: [1],
        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据
        dataIndex: arr,
    });
    // 显示24小时图标
    chart.dispatchAction({
        type: 'showTip',
        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。
        seriesIndex: [1],
        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据
        dataIndex: e.dataIndex,
        // 本次显示 tooltip 的位置。只在本次 action 中生效。
        // 缺省则使用 option 中定义的 tooltip 位置。
        position: [100, 200],
    });
});

chart.on('mouseover', {
    seriesIndex: 1
}, function(e) {
    // 取消高亮
    chart.dispatchAction({
        type: 'downplay',
        // 可选，系列 index，可以是一个数组指定多个系列
        seriesIndex: [0, 1],
        // 可选，数据的 index
        dataIndex: arr,
    });
    // 设置高亮
    chart.dispatchAction({
        type: 'highlight',
        // 可选，系列 index，可以是一个数组指定多个系列
        seriesIndex: [0, 1],
        // 可选，数据的 index
        dataIndex: e.dataIndex,
    });
    // 隐藏24小时图标
    chart.dispatchAction({
        type: 'hideTip',
        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。
        seriesIndex: [1],
        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据
        dataIndex: arr,
    });
    // 显示24小时图标
    chart.dispatchAction({
        type: 'showTip',
        // 系列的 index，在 tooltip 的 trigger 为 axis 的时候可选。
        seriesIndex: [1],
        // 数据的 index，如果不指定也可以通过 name 属性根据名称指定数据
        dataIndex: e.dataIndex,
        // 本次显示 tooltip 的位置。只在本次 action 中生效。
        // 缺省则使用 option 中定义的 tooltip 位置。
        position: [100, 200],
    });

});


        }

        setView();



    </script>
</div>
</body>
</html>

