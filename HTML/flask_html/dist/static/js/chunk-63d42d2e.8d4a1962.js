/*!
 *  build: vue-admin-better 
 *  vue-admin-beautiful.com 
 *  https://gitee.com/chu1204505056/vue-admin-better 
 *  time: 2023-12-29 21:11:37
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63d42d2e"],{"0bb4":function(t,e,a){"use strict";a.r(e),a.d(e,"getNoticeList",(function(){return i}));var o=a("b775");function i(){return Object(o["default"])({url:"https://851edf02-46eb-43e6-828d-64c7e483ea41.bspapp.com/http/getNotice",method:"post"})}},1867:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dot-chart"},[e("div",{ref:"main",attrs:{id:"main"}})])},i=[],s=a("313e"),r=a("bec6"),l={name:"PiePlot",data(){return{x_axis:[],y_axis:[]}},mounted(){},created(){this.fetchData()},methods:{fetchData(){Object(r["Getdiettypedatalist"])().then(t=>{this.x_axis=t.data.x_axis,console.log(this.x_axis),this.initEcharts(this.x_axis)})},initEcharts(t){var e=s["a"](this.$refs.main);e.setOption({title:{text:"Number of diet types"},tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:t}]}),window.PieChart=e}}},n=l,h=(a("c314"),a("2877")),c=Object(h["a"])(n,o,i,!1,null,"7151b00f",null);e["default"]=c.exports},"3d72":function(t,e,a){},"55b7":function(t,e,a){},"673c":function(t,e,a){"use strict";a("6afa")},"6afa":function(t,e,a){},ab0a:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index-container"},[e("div",{ref:"chart"}),e("el-row",[e("el-button",{staticClass:"export-it",attrs:{type:"primary"},on:{click:function(e){return t.exportFile()}}},[t._v("Download data")]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"tableSort",attrs:{data:t.list,"element-loading-text":t.elementLoadingText,height:t.height},on:{"sort-change":t.tableSortChange}},[e("el-table-column",{attrs:{label:"ID","show-overflow-tooltip":"",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1+(t.queryForm.pageNo-1)*t.queryForm.pageSize)+" ")]}}])}),e("el-table-column",{attrs:{label:"User Name",prop:"user_name","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"Upload Timestamp",prop:"upload_time","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"Deit Time",prop:"user_time","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"Image"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{staticStyle:{width:"20px",height:"20px"},attrs:{"preview-src-list":["http://39.100.73.118/deeplearning_photo/uploads/"+t.row.photo_name],src:"http://39.100.73.118/deeplearning_photo/uploads/"+t.row.photo_name}})]}}])}),e("el-table-column",{attrs:{label:"Food or Not",prop:"photo_type","show-overflow-tooltip":"",sortable:""}}),e("el-table-column",{attrs:{label:"Type of Food",prop:"photo_kind","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"Food Calorie",prop:"photo_cal","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"Operate","show-overflow-tooltip":"",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("Edit")])]}}])})],1),e("el-pagination",{attrs:{total:t.pagination.total,background:t.background,"current-page":t.queryForm.pageNo,layout:t.layout,"page-size":t.queryForm.pageSize},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),e("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.close}},[e("el-form",{ref:"form",attrs:{"label-width":"100px",model:t.form,rules:t.rules}},[e("el-form-item",{attrs:{label:"Food or Not",prop:"photo_type"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.photo_type,callback:function(e){t.$set(t.form,"photo_type","string"===typeof e?e.trim():e)},expression:"form.photo_type"}})],1),e("el-form-item",{attrs:{label:"Type of Food",prop:"photo_kind"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.photo_kind,callback:function(e){t.$set(t.form,"photo_kind","string"===typeof e?e.trim():e)},expression:"form.photo_kind"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.close}},[t._v("Cancel")]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},i=[],s=(a("14d9"),a("bec6")),r=a("9224"),l=(a("0bb4"),a("ad8f")),n=a("b672"),h=a("1867"),c=a("b3ba");const d=a("3eba");a("c037");var u={name:"Index",components:{DistributionPlot:n["default"],PieChart:h["default"]},data(){return{exportType:"csv",form:{photo_type:"",photo_kind:""},rules:{photo_type:[{required:!0,trigger:"blur",message:"请输入标题"}],photo_kind:[{required:!0,trigger:"blur",message:"请输入作者"}]},title:"",dialogFormVisible:!1,chart:null,imgShow:!0,list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,background:!0,selectRows:"",elementLoadingText:"正在加载...",pagination:{total:0,page:1,limit:10},queryForm:{pageNo:1,pageSize:20,title:""},timer:0,updateTime:"2023-12-29 21:11:37",nodeEnv:"production",dependencies:r["a"],devDependencies:r["b"]}},computed:{height(){return this.$baseTableHeight()}},created(){this.fetchData()},beforeDestroy(){clearInterval(this.timer)},mounted(){this.init()},methods:{init(){this.chart=d.init(this.$refs.chart);const t={tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}]};this.chart.setOption(t)},showEdit(t){t?(this.title="Edit",this.form=Object.assign({},t)):this.title="添加",this.dialogFormVisible=!0},close(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1,this.$emit("fetch-data")},save(){this.$refs["form"].validate(async t=>{if(!t)return!1;{const{msg:t}=await Object(s["EditPhoto"])(this.form);this.$baseMessage(t,"success"),this.$refs["form"].resetFields(),this.dialogFormVisible=!1,this.fetchData()}})},handleClick(t){this.$baseMessage(`点击了${t.name},这里可以写跳转`)},handleZrClick(){},handleChangeTheme(){this.$baseEventBus.$emit("theme")},tableSortChange(){const t=[];this.$refs.tableSort.tableData.forEach((e,a)=>{t.push(e.img)}),this.imageList=t},setSelectRows(t){this.selectRows=t},handleAdd(){this.$refs["edit"].showEdit()},handleEdit(t){this.showEdit(t)},handleDelete(t){if(t.id)this.$baseConfirm("你确定要删除当前项吗",null,async()=>{const{msg:e}=await Object(l["doDelete"])({ids:t.id});this.$baseMessage(e,"success"),this.fetchData()});else{if(!(this.selectRows.length>0))return this.$baseMessage("未选中任何行","error"),!1;{const t=this.selectRows.map(t=>t.id).join();this.$baseConfirm("你确定要删除选中项吗",null,async()=>{const{msg:e}=await Object(l["doDelete"])({ids:t});this.$baseMessage(e,"success"),this.fetchData()})}}},handleSizeChange(t){this.queryForm.pageSize=t,this.fetchData()},handleCurrentChange(t){this.queryForm.pageNo=t,this.fetchData()},handleQuery(){this.queryForm.pageNo=1,this.fetchData()},fetchData(){this.listLoading=!0,Object(s["PhotoInfoData"])(this.queryForm.pageNo,this.queryForm.pageSize).then(t=>{this.list=t.data.list,this.pagination.total=t.data.total,this.listLoading=!1})},exportFile(){Object(c["a"])(this.$refs.tableSort,{fileName:"Export_file",type:this.exportType,useFormatter:!0}).then(()=>{console.info("ok")}).catch(t=>{console.info(t)})},testMessage(){this.$baseMessage("test1","success")},testALert(){this.$baseAlert("11"),this.$baseAlert("11","自定义标题",()=>{}),this.$baseAlert("11",null,()=>{})},testConfirm(){this.$baseConfirm("你确定要执行该操作?",null,()=>{},()=>{})},testNotify(){this.$baseNotify("测试消息提示","test","success","bottom-right")}}},p=u,f=(a("673c"),a("2877")),m=Object(f["a"])(p,o,i,!1,null,"62ad751c",null);e["default"]=m.exports},ad8f:function(t,e,a){"use strict";a.r(e),a.d(e,"getList",(function(){return i})),a.d(e,"doEdit",(function(){return s})),a.d(e,"doDelete",(function(){return r}));var o=a("b775");function i(t){return Object(o["default"])({url:"/table/getList",method:"post",data:t})}function s(t){return Object(o["default"])({url:"/table/doEdit",method:"post",data:t})}function r(t){return Object(o["default"])({url:"/table/doDelete",method:"post",data:t})}},b672:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dot-chart"},[e("div",{ref:"main",attrs:{id:"main"}})])},i=[],s=a("313e"),r=a("bec6"),l={name:"DistributionPlot",data(){return{x_axis:[],y_axis:[]}},mounted(){},created(){this.fetchData()},methods:{fetchData(){Object(r["Getdaytimedatalist"])().then(t=>{this.x_axis=t.data.x_axis,this.y_axis=t.data.y_axis,this.initEcharts(this.x_axis,this.y_axis)})},initEcharts(t,e){var a=s["a"](this.$refs.main);a.setOption({title:{text:"Daily Uploads"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:t}],yAxis:[{type:"value"}],series:[{type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e}]}),window.PieChart=a}}},n=l,h=(a("b7b4"),a("2877")),c=Object(h["a"])(n,o,i,!1,null,"05da42c5",null);e["default"]=c.exports},b7b4:function(t,e,a){"use strict";a("3d72")},c314:function(t,e,a){"use strict";a("55b7")}}]);